<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>PIPS-NLP: Installation Instructions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">PIPS-NLP
   &#160;<span id="projectnumber">0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Installation Instructions </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>After you install PIPS-NLP, it would generate 2 executable files: pipsnlp_serial and pipsnlp_parallel Both of them can read option file pipsnlp.parameter to determine the parameter used in the implementation. See pipsnlp.parameter for details of the adjustable parameters. Note that pipsnlp.parameter should be be placed in the folder where you call the executables.</p>
<h2>pipsnlp_serial</h2>
<p>solves the problem in serial, without any exploitation of problem structure, i.e., the iterate matrix is treated as a big sparse matrix. The usage is: pipsnlp_serial problem.nl where problem.nl is the problem NL file generated by AMPL or PYOMO.</p>
<h2>pipsnlp_parallel</h2>
<p>exploits the problem structure and can be used to solve problems in parallel, e.g., use reduced space or stochastic scenario structure The serial usage is: pipsnlp_parallel probRootName_ val where probRootName is the problem root name, and the last number tells how many .NL files are loaded.</p>
<p>For an example, with command pipsnlp_parallel probRootName_ 3 pipsnlp would load three NL files with names: probRootName_1.nl, probRootName_2.nl and probRootName_3.nl.</p>
<p>For this example, the parallel usage is: mpirun -np 3 pipsnlp_parallel probRootName_ 3 with solve the problem with 3 mpi processes.</p>
<p>For the stochastic scenario structure, currently we have two approaches to initialize the parallel setting. For an example, x0 is the 1st stage variables, and x1 and x2 are the second variables which come from two different scenarios. When we load two NL files, which are given by the model with different scenario data respectively, Ampl solver library (ASL) can return a full sparse matrices (Jacobian or Hessian) C1(x0,x1) from the 1st NL file, and C2(x0,x2) from the 2nd NL file.</p>
<p>By setting option AddSlackParallelSetting=0, We do preprocess to split the matrices into 3 parts: the local part is defined by the 2nd stage variables and the 2nd stage constraints; the global part is defined by the 1st stage variables and the 1st stage constraints; and the linking part is defined by the 1st stage variables and the 2nd stage constraints. This preprocess would creat an 1-1 map for the matrice's elements, which can help pipsnlp to quickly reset the matrice in the later iterations.</p>
<p>By setting option AddSlackParallelSetting=1, We do introduce slack variables and additional constraint to lift the problem. That is, we add slack variable s1 and constraint s1=x0 in the first scenario, and s2 and s2=x0 in the second scenario. By lifting the problem, we thus do not need to spilt the matrices returned from ASL. That is, we can use C1(s1,x1) and C1(s2,x1) directly, and add matrices in the bottom of the Jacobian to cover the slack variable and additive constraint.</p>
<p>Generally, approach 1 (AddSlackParallelSetting=0) requires more preprocess time but the problem size is smaller, while approach 1 (AddSlackParallelSetting=1) requires less preprocess time but the problem size is larger due to the extra variables and constraints. Approach 1 is the default method in pipsnlp_parallel.</p>
<p>Note that currently,</p><ol type="1">
<li>we do not support linking constraint, i.e., a global constraint which is defined by 2nd stage variables from different scenarios;</li>
<li>the reduced space solver only supports approach 1 (AddSlackParallelSetting=0), and all the decision variables MUST be in the 1st stage. </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
